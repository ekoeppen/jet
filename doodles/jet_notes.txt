JeeLabs Embello Toolkit notes - 2015-1-9

single sh script wrapper, for Linux x86/64/arm and Mac OS X

reboot, new design, as discussed with tve on gitter:

hub <-> pack
    net socket or named pipe or in-process if pack is part of hub
    pack will have circuits, perhaps lots of them
    use mux/demux gadget for finer-grainer routing
    packs can also provide, or at least config static assets
    
hub <-> non-flow pack, any language
    hub starts such packs
    could be a socket or use pipes
    protocol over the wire is still msgpack
        
hub <-> web browser
    fixer port, optionally TLS
    std http server + websocket
    hub serves static assets, including pages
    each websocket is routed <-> one or more packs
    
hub <-> serial ftdi <-> jeenode
    hub opens and manages serial port
    also reset and isp pin control (dtr/rts)
    serial is routed <-> one or more packs
    
hub <-> i2c <-> jeenode
    optional: i2c-based 2nd level boot for self re-flashing
    hub opens and manages connection to i2c device
    i2c is routed <-> one or more packs
    
hub <-> udp <-> jeenode w/ ethernet (LAN/WLAN)
    hub sets up a UDP listener
    jeenode does UDP broadcast
    udp is routed <-> one or more packs

hub <-> tcp <-> anything
    remote packs, flow-based or non-flow-based
    another hub, proxying for development

hub <-> jeeboot server
    jeeboot server could be just another pack
    
hub <-> database
    leveldb, but also other adapters
    quick version based on plain files
    
hub <-> mqtt <-> anything
    because everyone in the IoT world seems to want it...
    mqtt probably part of hub process, just like web server
        same reason: less disruptive to keep it alive 24/7
